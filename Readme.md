# Selfmade - IoT

## 프로젝트명
Selfmade IoT

## 프로젝트 개발배경 및 목적

IoT(사물인터넷)가 4차 산업 혁명의 중심으로 선정이 되었고(2019 4차 산업혁명 주요 테마 분석,  통계청), 아파트, 공장 등 많은 곳에서 사용되고 있습니다. 하지만 전공 지식이 없는 사람들은 비싼 가격에 시스템 설치를 맡겨야 하기 때문에 쉽게 IoT 시스템을 접할 수 없다는 문제가 있습니다. 이를 위해 원격으로 모듈을 쉽게 제어하고 간단한 블록 코딩으로 자신이 원하는 동작을 하게 해주는 시스템을 개발하여 전공 지식이 없는 사람도 간단하게 IoT 시스템을 구성할 수 있게 하는 프로젝트를 기획하게 되었습니다. 

시중에 불을 끄거나 원격으로 현관문을 제어 하는 모듈은 많이 있지만, 이를 한꺼번에 관리하고 여러 모듈들을 연계해 사용하기는 불가능하기 때문에 각자 다른 어플리케이션을 사용해야 하는 단점이 있습니다. Selfmade IoT는 전등, 충전기, 전기장판 등 예전부터 원래 사용하고 있던 제품에 모듈을 연결해서 사용하기만 하면 새로운 제품을 구매할 필요없이 요즘 나오는 제품에서 사용되는 IoT 시스템을 누구나 손쉽게 사용할 수 있고, 여러개의 모듈을 효율적으로 관리 할 수 있습니다. 

또한 집 안에 도시가스나 전기장판 등의 위험할 수도 있는 제품의 전원을 끄지 않고 나왔을 경우 집 밖에서도 와이파이를 통해 제품의 전원을 끌 수 있어서 집 안에서 일어나는 사고를 미리 예방할 수 있습니다. 바쁜 아침 깜빡하고 집 안의 제품을 확인하지 못 했을 경우에는 앱을 통해서 제품들의 상태를 확인하고, 간단하게 모듈에 연결된 모든 제품의 전원 차단이 가능합니다. 집 안의 다른 제품군과는 다르게 블록코딩을 통하여 사용자 원하는 동작을 가능하게 합니다.

집에 들어가기 전에 미리 에어컨을 작동시키거나 공기청정기를 작동시켜 사용자가 집에 들어오기 전에 집 안의 제품들을 원격으로 작동시켜서 SMART HOME으로 업그레이드가 가능합니다.

## 프로젝트 개발 계획

에어컨, 전기장판, 도시가스, 블라인드, 커튼, 도시가스, 전등 스위치 등의 제품에 장착할 수 있도록 IoT모듈을 제작하고, 그 모듈에 들어갈 코드를 만들 수 있는 블록 코딩 서비스를 제작합니다. 또, PC 프로그램과 스마트폰 앱을 통해 나의 모듈을 관리 할 수 있습니다.

### 하드웨어

- **콘센트 모듈**
    
    220V전원을 5V 직류전원 어댑터에 병렬로 연결하여 아두이노 NANO 에게 전원을 공급하고, SSR을 사용하여 아두이노의 작은 전류로도 220V 전류를 제어하게 합니다. 아두이노에 장착된 와이파이 모듈을 통해 외부와 통신하며 새로운 블럭 코딩 내용을 받아오기도 합니다.

- **전등 스위치 모듈**

    아두이노 nano, wifi모듈, 서보 모터를 IoT모듈에 장착해서 사용자가 블록 코딩한 기능을 바탕으로 서보 모터를 작동시켜서 전등 스위치를 On/Off 합니다.

- **블라인드/커튼 모듈**

    linear belt drive 형식의 모듈을 자체 개발하여 콘센트 모듈과 같은 맥락으로 내장된 아두이노 NANO로 스텝 모터를 제어하여 커튼을 여닫습니다. 

### 소프트웨어

- **블록 코딩 서비스**
C++ Qt 기반으로 제작하며 화면 좌측에 있는 블럭을 끌어 붙여 블럭을 조립합니다. 사용자가 만든 블럭으로 텍스트 파일을 만들게 됩니다. 크로스 컴파일이 가능한 Qt를 사용하기 때문에 리눅스나 맥 OS 환경에서도 사용이 가능합니다.

- **모듈 관리 서비스**

    실제로 모듈을 컨트롤 하는 부분입니다.  스마트폰으로 모듈을 제어 하는 앱을 제작합니다.
    등록된 모든 모듈 목록을 확인 할 수 있고 수동으로 제어가 가능합니다.

- **와이파이 통신 서비스**

    아두이노 나노에 장착된 와이파이 모듈을 통해 사용자가 블록 코딩 한 내용을 전송 받습니다. 후 받은 텍스트파일을 파싱하여 코딩 된 내용대로 모듈에 장착된 SSR/모터 등을 각 모듈의 쓰임새에 맞게 제어합니다.